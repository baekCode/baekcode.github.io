# 2. ë¦¬ì•¡íŠ¸ ì‹¤ì „ í™œìš©

1. ì»´í¬ë„ŒíŠ¸ ì‘ì„± ë°©ë²•
2. prop-types ë¡œ ì†ì„± íƒ€ì… ì •ì˜í•˜ê¸°
3. ì¡°ê±´ë¶€ ë Œë”ë§
4. ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„±ì„ ìœ„í•œ ì»´í¬ë„ŒíŠ¸ 
5. useEffect í™œìš©
6. ë Œë”ë§ì„ ìœ„í•œ ì„±ëŠ¥ ìµœì í™”







-----



### 2.1 - ì»´í¬ë„ŒíŠ¸ ì‘ì„± ë°©ë²•

1. ì†ì„±ê°’ íƒ€ì… ì •ì˜ í•˜ê¸° : prop-types ë˜ëŠ” interface 
2. ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ í•¨ìˆ˜ function App() 
3. ê¸°íƒ€ ë³€ìˆ˜ì™€ í•¨ìˆ˜ 

```React
import React from 'react'
import PropTypes from 'prop-types'

App.propTypes = {
  name : PropTypes.string,
  age : PropTypes.number
}

function App({name,age}) {
  ...
}

const INITIAL_STATE = [
  {id:1, name:'', age: 0}
]
```



`useState` ì™€ `useEffect` ë¬¶ì–´ì„œ ì‚¬ìš©

```react
import React, {useState, useEffect} from 'react'
import PropTypes from 'prop-types'

App.propTypes = {
  name : PropTypes.string,
  age : PropTypes.number
}

function App({name,age}) {
  const [user, setUser] = useState()
  useEffect(()=>{
    setUser(name)
  },[name])
  
  const [width, setWidth] = useState(window.innerWidth)
  useEffect(()=>{
    const onResize = () => setWidth(window.innerWidth)
    window.addEventListener('resize',onRisize)
    return ()=>{
          window.RemoveEventListener('resize',onRisize)
    }
  },[])
  
  return ..
}

const INITIAL_STATE = [
  {id:1, name:'', age: 0}
]
```

 



-----



### 2.2 - prop-types ë¡œ ì†ì„± íƒ€ì… ì •ì˜í•˜ê¸°

[prop-types npm ë¼ì´ë¸ŒëŸ¬ë¦¬ ë°”ë¡œê°€ê¸°](https://www.npmjs.com/package/prop-types)

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë™ì  íƒ€ì… ì–¸ì–´, ì¦‰ íƒ€ì…ì´ ìœ ì—°í•œ ì–¸ì–´ì´ê¸° ë•Œë¬¸ì— ì‰½ê²Œ í”„ë¡œê·¸ë˜ë°ì„ í•  ìˆ˜ ìˆë‹¤.

í° ê·œëª¨ì˜ í”„ë¡œì íŠ¸ë¥¼ í•  ê²½ìš°ì—ëŠ” ì˜¤íˆë ¤ ìƒì‚°ì„±ì´ ì ë‹¤.



**prop-types íŠ¹ì§•**

- íƒ€ì… ì˜¤ë¥˜ë¥¼ ì‚¬ì „ì— ê²€ì‚¬ë¥¼ í•´ì¤€ë‹¤.

- ì–´ë–¤ íƒ€ì…ì˜ ì†ì„±ì´ ì •ì˜í•´ì•¼í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íƒ€ì… ì •ì˜ ìì²´ê°€ í›Œë¥­í•œ ë¬¸ì„œê°€ ë  ìˆ˜ ìˆë‹¤. 

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë§Œí¼ ìì„¸í•œ íƒ€ì…ì„ ì•Œë ¤ì£¼ì§„ ì•ŠëŠ”ë‹¤.

  ì˜ˆ) `onClick : PropTypes.func` ì´ì™€ ê°™ì´ í•¨ìˆ˜ê°€ ì–´ë–¤ ê°’ì„ ë°˜í™˜í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ì´ëŸ° ê²½ìš° ì£¼ì„ìœ¼ë¡œ íƒ€ì…ì„ ì •ì˜



íƒ€ì…ì„ ì •í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ì˜ˆ)

```react
export default function User ({id, name, age, male, onChangeName, onChangeTitle}) {
  
 	const onClick = (name, title) => {
		if(onChangeName) {onChangeName(name)}
    onChangeTitle(title);
    male ? 'ìˆìŒ' : 'ì—†ìŒ'
  }
  
  return null
}
```

- ì–´ë–¤ ì†ì„±ì´ í•„ìˆ˜ ê°’ì¸ì§€ ì•Œ ìˆ˜ ì—†ìŒ
- ì†ì„±ì˜ íƒ€ì…ì´ ì •í•´ì§€ì§€ ì•Šë‹¤ë³´ë‹ˆ ì•„ë¬´ íƒ€ì…ì´ ë“¤ì–´ ì˜¬ ìˆ˜ ìˆìŒ



íƒ€ì…ì„ ì •í•œ ì½”ë“œ ì˜ˆ)

```react
User.propTypes = {
  id : PropTypes.number.isRequired,
  name : PropTypes.string,
  age : PropTypes.number,
  male : PropTypes.bool.isRequired,
  onChangeName : PropTypes.func, // (name: string) => void
  onChangeTitle : PropTypes.func.isRequired
}

export default function User ({id, name, age, male, onChangeName, onChangeTitle}) {
  
 	const onClick = (name, title) => {
		if(onChangeName) {onChangeName(name)}
    onChangeTitle(title);
    male ? 'ìˆìŒ' : 'ì—†ìŒ'
  }
  
  return null
}
```

- func ì¼ë•ŒëŠ” ë°˜í™˜ê°’ì´ ë¬´ì—‡ì¸ì§€ ëª¨ë¥´ë‹ˆ ì£¼ì„ìœ¼ë¡œ ë‚¨ê²¨ ì¤€ë‹¤.



**prop-typesì˜ íƒ€ì… ì†ì„± ì•Œì•„ë³´ê¸°**

```javascript
App.propTypes = {
  /* 
  ë¦¬ì•¡íŠ¸ ìš”ì†Œ,
  <div>Hello</div>
  <App />
  */
	el : PropTypes.element,
	
  /*
  ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ê°€ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ëª¨ë“ ê²ƒ
  number, string, array, element...
  <div></div>
  <App />
  123
  */
  node : PropTypes.node
  
  /*
  Msg í´ë˜ìŠ¤ë¡œ ìƒì„±ëœ ëª¨ë“  ê°ì²´
  new Msg() => ì°¸
  new Car() => ê±°ì§“
  */
  instanceOf : PropTypes.instanceOf(Msg)
  
  /*
  ë°°ì—´ì— í¬í•¨ëœ ê°’ ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ë§Œì¡±
  'í™ê¸¸ë™' => ì°¸
  'ì˜ìˆ˜' => ê±°ì§“
  */
  oneOf : PropTypes.oneOf(['í™ê¸¸ë™','ì² ìˆ˜'])
  
  /*
  ë°°ì—´ì— í¬í•¨ëœ íƒ€ì… ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ë§Œì¡±
  123 => ì°¸
  'hello' => ì°¸
  */
  oneOfType : PropTypes.oneOfType([PropTypes.number, PropTypes.string])
  
  /*
  íŠ¹ì • íƒ€ì…ë§Œ í¬í•¨í•˜ëŠ” ë°°ì—´
  [1,2,3] => ì°¸
  ['1','2','3'] => ê±°ì§“
  */
  arrayOf : PropTypes.arrayOf(PropTypes.number)
  
  /*
  ê°ì²´ì˜ ì†ì„±ì˜ íƒ€ì…ì„ ì •ì˜
  */
  shape : PropTypes.shape({
    name: PropTypes.string,
    age: PropTypes.number
  })
  
  /*
  ê°ì²´ì—ì„œ ëª¨ë“  ì†ì„±ê°’ì˜ íƒ€ì…ì´ ê°™ì€ ê²½ìš°
  {name: 'í™ê¸¸ë™', title: 'ì•ˆë…•í•˜ì„¸ìš”'} => ì°¸
  {name: 'í™ê¸¸ë™', title: 123} => ì°¸
  */
  objectOf : PropTypes.objectOf(PropTypes.string)
}
```





-----



### 2.3 - ì¡°ê±´ë¶€ ë Œë”ë§

ìƒí™©ì— ë”°ë¼ì„œ if ë¬¸, ì‚¼í•­ì—°ì‚°ì, && ì—°ì‚°ìë¡œ ë Œë”ë§ í•  ìˆ˜ ìˆë‹¤.

ê¼­ ifë¬¸ì„ ì“°ì§€ë§ë¼ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. jsx ì—ì„œ ì‚¼í•­ì—°ì‚°ìë¥¼ ë‚¨ìš©í•˜ê²Œ ëœë‹¤ë©´ ë” ë³µì¡í•´ ì§„ë‹¤.

if/else ë¬¸ìœ¼ë¡œ ì²˜ë¦¬ í•˜ëŠ”ê²ƒì´ ê°€ë…ì„± ë©´ì—ì„œ ì¢‹ì„ ë•Œë„ ìˆë‹¤.



**ifë¬¸ì˜ ì˜ˆ)**

```react
import React from 'react';

const App = ({ isLogin, user }) => {
  if (isLogin) {
    return <div>{user}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”.</div>;
  } else {
    return <div>ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”,</div>;
  }
};

export default App;
```



**ì‚¼í•­ì—°ì‚°ì ì˜ˆ)**

```react
import React from 'react';

const App = ({ isLogin, user }) => {
  return <div>{isLogin ? `${user}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”.` : 'ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.'}</div>;
};

export default App;
```



**2ì¤‘ ì‚¼í•­ì—°ì‚°ì**

```react
import React from 'react';

const App = ({ isLogin, isLogin2, user }) => {
  return <div>{isLogin ? `${user}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”.` : isLogin2 ? 'íšŒì›ê°€ì…ì„ í•´ì£¼ì„¸ìš”.' : 'ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.'}</div>;
};

export default App;

```

- ìœ„ ì½”ë“œì—ì„œ ì§§ì€ ì½”ë“œì§€ë§Œ ê¸¸ì–´ì§ˆ ê²½ìš° 2ì¤‘ ì´ìƒì˜ ì‚¼í•­ì—°ì‚°ìëŠ” ì˜¤íˆë ¤ ê°€ë…ì„±ì„ ì•ˆì¢‹ê²Œ í•œë‹¤.



**2ì¤‘ ì‚¼í•­ì—°ì‚°ì ì²˜ë¦¬**

```react
import React from 'react';

const App = ({ isLogin, isLogin2, user }) => {
  return (
    <div>
      {isLogin && `${user}ë‹˜ ì•ˆë…•í•˜ì„¸ìš”.`}
      {!isLogin && isLogin2 ? 'íšŒì›ê°€ì…ì„ í•´ì£¼ì„¸ìš”.' : 'ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.'}
    </div>
  );
};

export default App;

```

- ìœ„ ì½”ë“œì™€ ê°™ì´ ë‚˜ëˆ„ì–´ì„œ ì²˜ë¦¬ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 



**ğŸ’¡ì ê¹?! && ì—°ì‚°ì || ì—°ì‚°ìë¥¼ ì§‘ê³  ë„˜ì–´ê°€ì** 

`A && B`  : Aê°€ ì°¸ì¸ê²½ìš° Bë¥¼ í‰ê°€ í•œ ê°’ì´ ì¶œë ¥ ëœë‹¤.

`true || false` : ì²«í•­ì´ ì°¸ì¸ê²½ìš° ì²«í•­ì„ í‰ê°€í•œ ê°’ì´ ì¶œë ¥ëœë‹¤.  ì²«í•­ì´ ê±°ì§“ì¼ ê²½ìš° ë‹¤ìŒ í•­ì„ í‰ê°€ í•œ ê°’ì´ ì¶œë ¥ëœë‹¤.

`&&` ëŠ” ì²«í•­ì—ì„œ ì‹œì‘í•˜ì—¬ í•˜ë‚˜í•˜ë‚˜ í•­ì„ ì²´í¬í•˜ì—¬ ì°¸ì¸ ê°’ì´ë©´ ë‹¤ìŒí•­ì„ ì²´í¬í•œë‹¤.

`||` ëŠ” ì²«í•­ì—ì„œ ì‹œì‘í•˜ì—¬ ëí•­ê¹Œì§€ ì²´í¬í•˜ì§€ë§Œ, ì°¸ì¸ ê²½ìš°ë¥¼ ë§Œë‚˜ë©´ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°’ì„ ë°˜í™˜í•œë‹¤.

```javascript
// && ì—°ì‚°ì
console.log(true && true) // true
console.log(true && false) // false
console.log(false && true) // false
console.log(true && 0) // 0
console.log(0 && true) // 0


// || ì—°ì‚°ì
console.log(true || true) // true (ì²«ë²ˆì§¸ í•­ì„ ì¶œë ¥)
console.log(true || false) // true (ì²«ë²ˆì§¸ í•­ì„ ì¶œë ¥)
console.log(true || 0) // true
console.log(0 || true) // true
console.log(0 || 5) // 5
console.log(false || false) // false
```



**â—ï¸&& ì—°ì‚°ì ì£¼ì˜ì **

```javascript
import React from 'react';

const App = () => {
  const cash = 1000;
  const text = '';
  return (
    <div>
      {cash && `${cash} ì› ë³´ìœ ì¤‘`}
    </div>
  );
};

export default App;

```

- ìºì‰¬ê°€ 0 ì¼ë•ŒëŠ” `{cash && ${cash} ì› ë³´ìœ ì¤‘}` ë¶€ë¶„ì´ '0' ìœ¼ë¡œë§Œ í‘œê¸° ëœë‹¤.

`{!!cash && ${cash} ì› ë³´ìœ ì¤‘}` ìœ¼ë¡œ `!!` ë„£ì–´ì„œ booleanìœ¼ë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤.

í•˜ì§€ë§Œ ìºì‰¬ê°€ 0ì¼ë•Œ ë³´ì—¬ì£¼ê³  ì‹¶ë‹¤ë©´?

```react
import React from 'react';

const App = () => {
  const cash = 0;
  const text = '';
  return (
    <div>
      {cash != null && `${cash} ì› ë³´ìœ ì¤‘`}
    </div>
  );
};

export default App;


```

- `null` or `undefined` ì¼ë•Œ ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.





-----



### 2.4 - ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„±ì„ ìœ„í•œ ì»´í¬ë„ŒíŠ¸ 

í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ì—¬ëŸ¬ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ì¡°ë¦½ì„ í•œë‹¤.

ì—°ê´€ëœ ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ í´ë”ë¥¼ ë‚˜ëˆ„ëŠ”ê²ƒì´ ì¢‹ë‹¤.



ê·¸ëŸ¬ë‚˜ í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì»¤ì§€ë©´ ë¬¸ì œê°€ ìƒê¸´ë‹¤.

- ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ì½”ë“œê°€ ì—¬ê¸°ì €ê¸° ìƒê²¨ ê´€ë¦¬ê°€ ì–´ë µë‹¤.
- ìƒíƒœê°’ì˜ ì¤‘ë³µë„ ë°œìƒí•œë‹¤.

- í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§, ìƒíƒœê´€ë¦¬, ëª¨ë“ ê²ƒì´ ë‹´ê²¨ìˆìœ¼ë©´ ì¬ì‚¬ìš©í•˜ê¸°ë„ í˜ë“¤ë‹¤.



**ì»´í¬ë„ŒíŠ¸ ì½”ë“œë¥¼ ë¶„ë¦¬ í•˜ëŠ” ê¸°ì¤€**

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ìƒíƒœê°’ì˜ ìœ ë¬´ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì—†ê³ , ìƒíƒœê°’ì´ ì—†ëŠ”ê²ƒ, ë‹¨ ë§ˆìš°ìŠ¤ì˜¤ë²„ì™€ ê°™ì´ UI ë§Œ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¬ì‚¬ìš©ì„±ì´ ì¢‹ë‹¤.





-----



### 2.5 - useEffect í™œìš©

**useEffect ì˜ì¡´ì„± ë°°ì—´**

useEffect ë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ ì˜ì¡´ì„±ë°°ì—´ì„ ë‹¤ë£¨ê¸°ê°€ ê¹Œë‹¤ë¡­ë‹¤.

ì˜ì¡´ì„± ë°°ì—´ì„ ì˜ëª» ê´€ë¦¬í•˜ë©´ ë²„ê·¸ë¡œ ì´ì–´ì§€ê²Œëœë‹¤. 

ê°€ëŠí•˜ë‹¤ë©´ ì˜ì¡´ì„± ë°°ì—´ì€ ì…ë ¥í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤.



```react
import React, { useState, useEffect } from 'react';

export default function App({ userId }) {
  const [user, setUser] = useState();

  useEffect(() => {
    fetch(userId).then(data => setUser(data));
  }, []);
  return <div></div>;
}

```

`React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array ` ë¼ê³  eslint ê°€ ì•Œë ¤ì¤€ë‹¤.

ì˜ì¡´ì„± ë°°ì—´ì— ì˜ì¡´í•˜ê³ ìˆëŠ” ìš”ì†Œë¥¼ ë„£ì–´ì£¼ê±°ë‚˜ ë˜ëŠ” ë³€ê²½ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í™•ì‹ ì´ ëœë‹¤ë©´ 

<u>ë§ˆìš´íŠ¸ë§Œ ë˜ì—ˆì„ë•Œ ì‹¤í–‰ë˜ëŠ” í›…ì„ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤</u>

```react
import React, { useState, useEffect } from 'react';

export default function App({ userId }) {
  const [user, setUser] = useState('í™ê¸¸ë™');
  useMounted(() => {
    fetch(userId).then(data => setUser(data));
  });
  return <div></div>;
}

function useMounted(callbak) {
  useEffect(callbak, []);
}

```



**useEffect ì—ì„œì˜ async await**

```react
import React, { useState, useEffect } from 'react';

export default function App({ userId }) {
  const [user, setUser] = useState('í™ê¸¸ë™');
  useEffect(async () => {
    const response = await fetch(userId);
    setUser(response);
  }, [userId]);
  return <div></div>;
}

```

useEffectëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ í•˜ëŠ”ë° async / await ë¥¼ ì‚¬ìš© í•˜ê²Œ ë˜ë©´ Promise ë¥¼ ë°˜í™˜í•˜ê¸° ë–„ë¬¸ì— ìœ„ì™€ê°™ì´ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì•ˆëœë‹¤.



- async / await í•¨ìˆ˜ë¥¼ useEffect ë°–ìœ¼ë¡œ ë‚´ë³´ë‚¸ë‹¤.

  â—ï¸ë°–ìœ¼ë¡œ ë‚´ë³´ë‚¼ê²½ìš° ë Œë”ë§ì´ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ ê³„ì†í•´ì„œ ë§Œë“¤ê²Œëœë‹¤. ì´ëŸ° ê²½ìš°ëŠ” useCallback í›…ì„ ì‚¬ìš©í•˜ì—¬ ì¬ëœë”ë§ì„ ë°©ì§€ í•œë‹¤.

```react
import React, { useState, useEffect, useCallbak } from 'react';

export default function App({ userId }) {
  const [user, setUser] = useState('í™ê¸¸ë™');

  async function fetchUser() {
    const response = await fetch(userId);
    setUser(response);
  }
  
  useEffect(() => {
    fetchUser();
  }, [fetchUser]);
  return <div></div>;
}

```

- useCallback í›…ìœ¼ë¡œ ì˜ì¡´ëœ ìš”ì†Œê°€ ìˆë‹¤ë©´ í•¨ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ ìƒì„±ë˜ë„ë¡ í•˜ëŠ” ë°©ë²•

```react
import React, { useState, useEffect, useCallback } from 'react';

export default function App({ userId }) {
  const [user, setUser] = useState('í™ê¸¸ë™');

  const fetchUser = useCallback(
    async function fetchUser() {
      const response = await fetch(userId);
      setUser(response);
    },
    [userId],
  );

  useEffect(() => {
    fetchUser();
  }, [fetchUser]);
  return <div></div>;
}

```

- useEffect ë‚´ë¶€ì—ì„œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‹¤í–‰í•œë‹¤.

```react
import React, { useState, useEffect } from 'react';

export default function App({ userId }) {
  const [user, setUser] = useState('í™ê¸¸ë™');
  useEffect(() => {
    async function fetchUser() {
      const response = await fetch(userId);
      setUser(response);
    }
    fetchUser();
  }, [userId]);
  return <div></div>;
}

```



**ì—¬ëŸ¬ ì˜ì¡´ì„±ì„ ì°¸ê³ í•˜ê³  ìˆì„ë•Œ**

```react
function Timer({ initialTime }) {
  const [hour, setHour] = useState(Math.floor(initialTime / 3600));
  const [min, setMin] = useState(Math.floor((initialTime % 3600) / 60));
  const [sec, setSec] = useState(Math.floor(initialTime % 60));

  useEffect(() => {
    const id = setInterval(() => {
      if (sec) {
        setSec(sec - 1);
      } else if (min) {
        setMin(min - 1);
        setSec(59);
      } else if (hour) {
        setHour(hour - 1);
        setMin(59);
        setSec(59);
      }
    }, 1000);

    return () => clearInterval(id);
  }, [hour, min, sec]);

}

```

ìœ„ì½”ë“œëŠ” ë§ì€ ì˜ì¡´ì„±ì„ ì°¸ê³ í•˜ê³ ìˆë‹¤. ì´ëŸ° ê²½ìš°ëŠ” ì‹¤ìˆ˜ê°€ ìƒê¸¸ìˆ˜ë„ìˆê³  ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤.

`useReducer` ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```react
function Timer({ initialTime }) {
  const initialState = {
    hour: Math.floor(initialTime / 3600),
    min: Math.floor((initialTime % 3600) / 60),
    sec: Math.floor(initialTime % 60),
  };
  const [state, dispatch] = useReducer(reducer, initialState);

  const { hour, min, sec } = state;

  useEffect(() => {
    const id = setInterval(dispatch, 1000);
    return () => clearInterval(id);
  });
}

function reducer(state) {
  const { hour, min, sec } = state;
  if (sec) {
    return { ...state, sec: sec - 1 };
  } else if (min) {
    return { ...state, min: min - 1, sec: 59 };
  } else if (hour) {
    return { hour: hour - 1, min: 59, sec: 59 };
  } else {
    return state;
  }
}

```





-----



### 2.6 - ë Œë”ë§ì„ ìœ„í•œ ì„±ëŠ¥ ìµœì í™”

ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ ê³¼ì • 

1. ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ë¡œ í™”ë©´ì„ ê·¸ë¦°ë‹¤.
2. ê°€ìƒë”ì´ ìƒì„±ëœë‹¤.
3. ì‹¤ì œ ë”ì´ ë°˜ì˜ëœë‹¤.
4. ì¶”ê°€ ë Œë”ë§ì´ ì¼ì–´ë‚˜ê²Œ ë˜ë©´ ë‹¤ì‹œ ê°€ìƒë”ì„ ë§Œë“¤ì–´ ì´ì „ê³¼ ë¹„êµí•˜ì—¬ ìƒˆë¡œìš´ ë¶€ë¶„ë§Œ ë Œë”ë§í•œë‹¤.

**í‰ì†Œì—ëŠ” ì„±ëŠ¥ì„ ê³ ë¯¼í•˜ì§€ ì•Šê³  ì½”ë”©í•˜ëŠ”ê²Œ ì¢‹ë‹¤. ì´í›„ ì„±ëŠ¥ ì´ìŠˆê°€ ìƒê¸°ë©´ ê·¸ë–„ ê³ ë¯¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.**



**React.memo**

ì´ì „ ì»´í¬ë„ŒíŠ¸ì™€ í˜„ì¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹„êµí•˜ì—¬ ì´ì „ ë˜ëŠ” í˜„ì¬ì˜ ë Œë”ë§ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš© í•œë‹¤.

```react
function Components(props){
  
}

function isEqual(prevProps, nextProps) {
  // true ë˜ëŠ” false ì‹¤í–‰
}

React.memo(Components, isEqual)
```

React.memo ë™ì‘ ì›ë¦¬

`isEqual` ì€ `boolean` ê°’ì„ ë°˜í™˜ í•œë‹¤. 

<u>`true`ì¸ê²½ìš° ì´ì „ì˜ ë Œë”ë§ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•˜ë©°, `false` ì¸ê²½ìš° ì»´í¬ë„ŒíŠ¸ë¥¼ í•œë²ˆë” ì‹¤í–‰í•´ì„œ ê°€ìƒë”ì„ ì—…ë°ì´íŠ¸ í•˜ê³  ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë°˜ì˜í•œë‹¤.</u> 

isEqual í•¨ìˆ˜ê°€ ì—†ë‹¤ë©´ ë¦¬ì•¡íŠ¸ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–•ì€ ë¹„êµë¥¼ í•œë‹¤.

React.memoëŠ” ì†ì„±ê°’ì´ ë‹¬ë¼ì§€ë©´ ë Œë”ë§ì´ ì´ë£¨ì–´ì§„ë‹¤ê³  ìƒê°í•˜ì.



**ë¦¬ì•¡íŠ¸ ê°€ìƒë” ì‹¤ì œë” ë™ì‘ ì›ë¦¬ **

ë¦¬ì•¡íŠ¸ëŠ” ì´ì „ì˜ ë”ê³¼ í˜„ì¬ì˜ ë”ê³¼ ë¹„êµí•˜ì—¬ ë Œë”ë§í•˜ê²Œëœë‹¤.

```react
function App () {
  const [state, setState] = useState(true)
	if(state) {
    return (
    	<div>
      	<div>ì‚¬ê³¼</div>
      	<div>ë°”ë‚˜ë‚˜</div>
      </div>
    )
  } else {
     return (
    	<span>
      	<div>ì‚¬ê³¼</div>
      	<div>ë°”ë‚˜ë‚˜</div>
      </span>
    )
  }
}
```

ìœ„ ì½”ë“œëŠ” ê°ì‹¸ê³  ìˆëŠ” ë¶€ëª¨ ìš”ì†Œì¸ `div` ì™€ `span` ì´ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì´ë¼ ë¦¬ì•¡íŠ¸ëŠ” ì „ì²´ê°€ ë°”ë€Œì—ˆë‹¤ íŒë‹¨í•˜ê³  ì „ì²´ë¥¼ ë‹¤ì‹œ ê·¸ë¦¬ê²Œ ëœë‹¤.

<u>ë¶€ëª¨ ìš”ì†Œê°€ ë³€ê²½ë˜ëŠ” ê²ƒì€ ì „ì²´ì ìœ¼ë¡œ ë Œë”ë§ì´ ë‹¤ì‹œ í•œë²ˆ ì¼ì–´ë‚˜ê¸° ë–„ë¬¸ì— ì¢‹ì§€ ì•Šë‹¤.</u>



```react
function App () {
  const [state, setState] = useState(true)
	if(state) {
    return (
    	<div>
      	<div>ì‚¬ê³¼</div>
      	<div>ë°”ë‚˜ë‚˜</div>
      </div>
    )
  } else {
     return (
    	<div>
      	<div>ì‚¬ê³¼</div>
      	<div>ë°”ë‚˜ë‚˜</div>
        <div>íŒŒì¸ì• í”Œ</div>
      </div>
    )
  }
}
```

ìœ„ ì½”ë“œëŠ” ìì‹ ìš”ì†Œì— `<div>íŒŒì¸ì—í”Œ</div>` ê°€ ì¶”ê°€ë˜ì–´ ì¶”ê°€ëœ ìš”ì†Œë§Œ ìƒˆë¡­ê²Œ ë Œë”ë§ì´ ì´ë£¨ì–´ì§€ê²Œëœë‹¤.



```react
function App () {
  const [state, setState] = useState(true)
	if(state) {
    return (
    	<div>
      	<div>ì‚¬ê³¼</div>
      	<div>ë°”ë‚˜ë‚˜</div>
      </div>
    )
  } else {
     return (
    	<div>
      	<div>ì‚¬ê³¼</div>
        <div>íŒŒì¸ì• í”Œ</div>
				<div>ë°”ë‚˜ë‚˜</div>
      </div>
    )
  }
}
```

í•˜ì§€ë§Œ ì¤‘ê°„ì— ë³€ê²½ì´ ë˜ì—ˆë‹¤ë©´? ë¦¬ì•¡íŠ¸ ì…ì¥ì—ì„œëŠ” ìì‹ì˜ 2ë²ˆì§¸ ìš”ì†Œì¸ ë°”ë‚˜ë‚˜ê°€ íŒŒì¸ì• í”Œë¡œ ë³€ê²½ë˜ì—ˆë‹¤ê³  íŒë‹¨,

ê·¸ë¦¬ê³  3ë²ˆì§¸ ìš”ì†Œê°€ ìƒˆë¡­ê²Œ ì¶”ê°€ ë˜ì—ˆë‹¤ê³  íŒë‹¨í•˜ì—¬, í•´ë‹¹ëœ ë¶€ë¶„ì„ ìƒˆë¡­ê²Œ ë Œë”ë§ í•˜ê²Œëœë‹¤.



ì¤‘ê°„ì— ë³€ê²½ëœ ìš”ì†Œë§Œ ë³€ê²½ í•˜ê³  ì‹¶ì„ ë–„ëŠ” `key` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€ í•œë‹¤

```react
function App () {
  const [state, setState] = useState(true)
	if(state) {
    return (
    	<div>
      	<div key="apple">ì‚¬ê³¼</div>
      	<div key="banana">ë°”ë‚˜ë‚˜</div>
      </div>
    )
  } else {
     return (
    	<div>
      	<div key="apple">ì‚¬ê³¼</div>
        <div key="pineapple">íŒŒì¸ì• í”Œ</div>
				<div key="banana">ë°”ë‚˜ë‚˜</div>
      </div>
    )
  }
}
```

<u>`key`  ì†ì„±ê°’ì€ ë¦¬ì•¡íŠ¸ê°€ ë ˆë”ë§ì„ íš¨ìœ¨ì ìœ¼ë¡œ í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ëŠ” ì¶”ê°€ ì •ë³´ì´ë‹¤. </u>



ë°°ì—´ì—ì„œì˜ indexë¡œ í‚¤ê°’ì„ ì‚¬ìš©í•˜ë©´ ì›ì†Œì˜ ìˆœì„œë¥¼ ë³€ê²½í•˜ì§€ ì•Šì„ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.

```react
return (
	<div>
    {LIST1.map((item,index) => (
    	<div key={index}>{item}</div>
    ))}
    {LIST2.map((item,index) => (
    	<div key={index}>{item}</div>
    ))}
	</div>
)

const LIST1 = ['ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜']
const LIST2 = ['ì‚¬ê³¼', 'íŒŒì¸ì• í”Œ', 'ë°”ë‚˜ë‚˜']
```

- LIST1 ì˜ 2ë²ˆì§¸ìš”ì†Œ ë°”ë‚˜ë‚˜ì™€ LIST2ì˜ 2ë²ˆì§¸ìš”ì†Œ íŒŒì¸ì• í”Œ
- ì´ëŸ´ë• ìš”ì†Œ ì•„ì´ë””ê°€ ìˆë‹¤ë©´ ìš”ì†Œ ì•„ì´ë””ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.